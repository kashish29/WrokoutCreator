<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MVP Workout Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Workout Generator</h1>

    <!-- Form for user inputs -->
    <form id="workoutForm">
        <div>
            <label for="experience">Experience Level:</label>
            <select name="experience" id="experience" required>
                <option value="Beginner">Beginner</option>
                <option value="Intermediate">Intermediate</option>
                <option value="Advanced">Advanced</option>
            </select>
        </div>

        <div>
            <label for="goal">Primary Goal:</label>
            <select name="goal" id="goal" required>
                <option value="Build Muscle">Build Muscle</option>
                <option value="Get Stronger">Get Stronger</option>
                <option value="General Fitness">General Fitness</option>
            </select>
        </div>

        <div>
            <label for="focus">Workout Focus for Today:</label>
            <select name="focus" id="focus" required>
                <option value="Upper Body">Upper Body</option>
                <option value="Lower Body">Lower Body</option>
                <option value="Full Body">Full Body</option>
            </select>
        </div>

        <div>
            <label>Available Equipment:</label>
            <div>
                <input type="checkbox" name="equipment" value="Dumbbells" id="eq_dumbbells"> <label for="eq_dumbbells">Dumbbells</label><br>
                <input type="checkbox" name="equipment" value="Barbell" id="eq_barbell"> <label for="eq_barbell">Barbell</label><br>
                <input type="checkbox" name="equipment" value="Kettlebell" id="eq_kettlebell"> <label for="eq_kettlebell">Kettlebell</label><br>
                <input type="checkbox" name="equipment" value="Resistance Bands" id="eq_resistance_bands"> <label for="eq_resistance_bands">Resistance Bands</label><br>
                <input type="checkbox" name="equipment" value="Bodyweight only" id="eq_bodyweight" checked> <label for="eq_bodyweight">Bodyweight only</label><br>
            </div>
        </div>

        <div>
            <label for="userNotes">Any notes for the coach? (e.g., injuries, preferences)</label>
            <textarea id="userNotes" name="userNotes" rows="3" placeholder="e.g., 'My left shoulder feels a bit pinchy' or 'Let's really focus on arms today'"></textarea>
        </div>

        <button type="submit">Generate Workout</button>
    </form>

    <hr> <!-- Optional: for visual separation -->
    <h2>User Settings</h2>
    <div id="userSettingsForm">
        <div>
            <label for="geminiApiKey">Gemini API Key:</label>
            <input type="password" id="geminiApiKey" name="geminiApiKey" style="width: 300px;">
        </div>
        <div>
            <label for="strength_freq">Strength Frequency (days/week):</label>
            <input type="number" id="strength_freq" name="strength_freq" min="0" max="7">
        </div>
        <div>
            <label for="hiit_freq">HIIT Frequency (days/week):</label>
            <input type="number" id="hiit_freq" name="hiit_freq" min="0" max="7">
        </div>
        <div>
            <label for="zone2_freq">Zone 2 Frequency (days/week):</label>
            <input type="number" id="zone2_freq" name="zone2_freq" min="0" max="7">
        </div>
        <div>
            <label for="recovery_freq">Recovery Frequency (days/week):</label>
            <input type="number" id="recovery_freq" name="recovery_freq" min="0" max="7">
        </div>
        <div>
            <label for="focus_rotation">Strength Focus Rotation (comma-separated):</label>
            <input type="text" id="focus_rotation" name="focus_rotation" style="width: 300px;">
        </div>
        <div>
            <label for="primary_goal">Primary Goal:</label>
            <select name="primary_goal" id="primary_goal">
                <option value="Balanced Fitness">Balanced Fitness</option>
                <option value="Strength Gain">Strength Gain</option>
                <option value="Muscle Hypertrophy">Muscle Hypertrophy</option>
                <option value="Fat Loss">Fat Loss</option>
                <option value="Athletic Performance">Athletic Performance</option>
            </select>
        </div>
        <button type="button" id="saveSettingsButton" style="margin-top: 10px;">Save Settings</button>
        <p id="settingsMessage" style="margin-top: 5px;"></p>
    </div>

    <hr>

    <h2>Workout History (Last 14 Days)</h2>
    <div id="workoutHistory">
        <p>Loading history...</p>
    </div>

    <!-- Area for displaying messages and workout -->
    <div id="messageArea" style="margin-top: 20px;">
        <p id="statusMessage"></p>
        <p id="errorMessage" style="color: red;"></p>
    </div>

    <h2>Your Workout Plan:</h2>
    <pre id="workoutOutput"></pre>
    <button id="saveWorkoutButton" style="display: none; margin-top: 10px;">Save Workout</button>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
